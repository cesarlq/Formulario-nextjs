(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{875:function(e,s,r){Promise.resolve().then(r.bind(r,8654))},8654:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return C}});var i=r(7437),a=r(2265),l=r(9343),o=r(2501),d=r.n(o),n=r(468),t=r(2052),u=r(5870),c=r(1444);let v=()=>(0,c.I0)(),m=c.v9;var h=r(2259),p=r.n(h);let g=async(e,s)=>{try{let r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},i=await p()("http://localhost:3001"+e,r),a=await i.json();if(!i.ok){if(504===i.status)throw"La sincronizaci\xf3n se realizar\xe1 en segundo plano, puedes cerrar esta ventana para continuar";if(500===i.status)throw"Ha ocurrido un error inesperado, por favor vuelve a intentarlo m\xe1s tarde";throw"Failed to GET"}return a}catch(e){return e}};var b=r(6862);let x=(0,b.hg)("Billing/PostBilling",async e=>await g("/billings",e)),f=(0,b.oM)({name:"Billing",initialState:{PostBilling:{status:"idle",error:void 0,response:{message:"",data:null}}},reducers:{resetPostBillings:e=>{e.PostBilling.status="idle",e.PostBilling.error=void 0,e.PostBilling.response={message:"",data:null}}},extraReducers:e=>{e.addCase(x.pending,e=>{e.PostBilling.status="loading"}),e.addCase(x.rejected,(e,s)=>{e.PostBilling.status="failed",e.PostBilling.error=s.error.message}),e.addCase(x.fulfilled,(e,s)=>{e.PostBilling.status="succeeded",e.PostBilling.response=s.payload})}}),{resetPostBillings:j}=f.actions;var S=f.reducer,_=r(374),y=r(4813),A=e=>{var s,r,o,c,h,p,g,b,f,S,A,B,C,F,k,q,P,N;let Z=v(),[w,T]=(0,a.useState)({snackbarMessage:"",snackbarSeverity:"success",open:!1}),z=m(e=>e.billingReducer.PostBilling),{register:E,handleSubmit:M,watch:O,formState:{errors:R},reset:G}=(0,l.cI)({mode:"onChange",defaultValues:{name:"",email:"",phone:null,Address:{street:"",city:"",state:"",zip:null}}});return(0,a.useEffect)(()=>{"succeeded"===z.status&&(T({snackbarMessage:z.response.message,snackbarSeverity:"success",open:!0}),Z(j()),G()),"failed"===z.status&&Z(j()),console.log("postBillingResponse",z)},[z]),(0,i.jsx)("div",{children:"loading"===z.status?(0,i.jsx)(n.Z,{}):(0,i.jsxs)("div",{className:"".concat(d().FormContainer),children:[(0,i.jsx)("h1",{children:"Form Billing"}),(0,i.jsxs)("form",{onSubmit:M(e=>{Z(x(e))}),children:[(0,i.jsxs)("div",{className:"".concat(d().FormSeccion1),children:[(0,i.jsx)(t.Z,{disabled:!1,placeholder:"Name",variant:"outlined",focused:!!O("name"),error:!!R.name,helperText:null===(s=R.name)||void 0===s?void 0:s.message,...E("name",{required:{value:!0,message:"Campo requerido"}})}),(0,i.jsx)(t.Z,{type:"email",focused:!!O("email"),error:!!R.email,helperText:null===(r=R.email)||void 0===r?void 0:r.message,...E("email",{required:{value:!0,message:"Email requerido"}}),disabled:!1,placeholder:"Email",variant:"outlined"})]}),(0,i.jsxs)("div",{className:"".concat(d().FormSeccion1),children:[(0,i.jsx)(t.Z,{focused:!!O("phone"),error:!!R.phone,helperText:null===(o=R.phone)||void 0===o?void 0:o.message,...E("phone",{required:{value:!0,message:"Telefono requerido"}}),disabled:!1,placeholder:"Phone",variant:"outlined"}),(0,i.jsx)(t.Z,{focused:!!O("Address.street"),error:!!(null===(c=R.Address)||void 0===c?void 0:c.street),helperText:null===(p=R.Address)||void 0===p?void 0:null===(h=p.street)||void 0===h?void 0:h.message,...E("Address.street",{required:{value:!0,message:"Calle requerida"}}),disabled:!1,placeholder:"Street",variant:"outlined"})]}),(0,i.jsxs)("div",{className:"".concat(d().FormSeccion1),children:[(0,i.jsx)(t.Z,{focused:!!O("Address.zip"),error:!!(null===(g=R.Address)||void 0===g?void 0:g.zip),helperText:null===(f=R.Address)||void 0===f?void 0:null===(b=f.zip)||void 0===b?void 0:b.message,...E("Address.zip",{required:{value:!0,message:"Zip requerido"}}),disabled:!1,placeholder:"Zip",variant:"outlined"}),(0,i.jsx)(t.Z,{className:"".concat(d().select),focused:!!O("Address.suburb"),error:!!(null===(S=R.Address)||void 0===S?void 0:S.suburb),helperText:null===(B=R.Address)||void 0===B?void 0:null===(A=B.suburb)||void 0===A?void 0:A.message,...E("Address.suburb",{required:{value:!0,message:"Suburb requerido"}}),defaultValue:0,select:!0,disabled:!1,placeholder:"Suburb",variant:"outlined",children:(0,i.jsx)(u.Z,{value:0,children:"Elije una opcion"},0)})]}),(0,i.jsxs)("div",{className:"".concat(d().FormSeccion1),children:[(0,i.jsx)(t.Z,{focused:!!O("Address.city"),error:!!(null===(C=R.Address)||void 0===C?void 0:C.city),helperText:null===(k=R.Address)||void 0===k?void 0:null===(F=k.city)||void 0===F?void 0:F.message,...E("Address.city",{required:{value:!0,message:"Ciudad requerida"}}),disabled:!1,placeholder:"City",variant:"outlined"}),(0,i.jsx)(t.Z,{focused:!!O("Address.state"),error:!!(null===(q=R.Address)||void 0===q?void 0:q.state),helperText:null===(N=R.Address)||void 0===N?void 0:null===(P=N.state)||void 0===P?void 0:P.message,...E("Address.state",{required:{value:!0,message:"Estado requerido"}}),disabled:!1,placeholder:"State",variant:"outlined"})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",className:"".concat(d().SubmitButton),children:"Guardrar"})})]}),(0,i.jsx)(_.Z,{open:w.open,autoHideDuration:3e3,onClose:()=>{T({snackbarMessage:"",snackbarSeverity:"",open:!1})},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,i.jsx)(y.Z,{severity:w.snackbarSeverity,onClose:()=>{T({snackbarMessage:"",snackbarSeverity:"",open:!1})},sx:{width:"100%"},variant:"filled",children:w.snackbarMessage})})]})})};let B=(0,b.xC)({middleware:e=>e({serializableCheck:!1}),reducer:{billingReducer:S}});function C(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.zt,{store:B,children:(0,i.jsx)("main",{className:"".concat(d().container),children:(0,i.jsx)(A,{})})})})}},2501:function(e){e.exports={container:"Form_container__HvGn_",FormContainer:"Form_FormContainer__MDGH9",FormSeccion1:"Form_FormSeccion1__7QNwi",select:"Form_select__w2RF3",SubmitButton:"Form_SubmitButton__wyg_S"}}},function(e){e.O(0,[392,177,971,23,744],function(){return e(e.s=875)}),_N_E=e.O()}]);